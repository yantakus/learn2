# Migration `20200603171016-separate-upvote-and-downvote-count`

This migration has been generated by Yan Takushevich at 6/3/2020, 5:10:16 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Video" DROP COLUMN "voteScore",
ADD COLUMN "downVoteCount" integer   DEFAULT 0,
ADD COLUMN "upVoteCount" integer   DEFAULT 0;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200601135244-add-etag..20200603171016-separate-upvote-and-downvote-count
--- datamodel.dml
+++ datamodel.dml
@@ -4,26 +4,27 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Video {
-  ytId        String     @id
-  etag        String
-  snippet     Json
-  complexity  Complexity
-  topic       Topic      @relation(fields: [topicId], references: [id])
-  topicId     Int
-  tags        Tag[]      @relation(references: [id])
-  votes       Vote[]
-  voteScore   Int?       @default(0)
-  uploader    User       @relation("UserVideos", fields: [uploaderId], references: [uid])
-  uploaderId  String
-  bookmarkers User[]     @relation("UserBookmarks")
-  language    Language   @relation(fields: [languageId], references: [id])
-  languageId  Int
+  ytId          String     @id
+  etag          String
+  snippet       Json
+  complexity    Complexity
+  topic         Topic      @relation(fields: [topicId], references: [id])
+  topicId       Int
+  tags          Tag[]      @relation(references: [id])
+  votes         Vote[]
+  downVoteCount Int?       @default(0)
+  upVoteCount   Int?       @default(0)
+  uploader      User       @relation("UserVideos", fields: [uploaderId], references: [uid])
+  uploaderId    String
+  bookmarkers   User[]     @relation("UserBookmarks")
+  language      Language   @relation(fields: [languageId], references: [id])
+  languageId    Int
 }
 model User {
   uid       String  @id
```


