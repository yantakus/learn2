# Migration `20200529101223-rename-text-to-label`

This migration has been generated by Yan Takushevich at 5/29/2020, 10:12:23 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
DROP INDEX "public"."Language.text"

DROP INDEX "public"."Tag.text"

DROP INDEX "public"."Topic.text"

ALTER TABLE "public"."Language" DROP COLUMN "text",
ADD COLUMN "label" text  NOT NULL ;

ALTER TABLE "public"."Tag" DROP COLUMN "text",
ADD COLUMN "label" text  NOT NULL ;

ALTER TABLE "public"."Topic" DROP COLUMN "text",
ADD COLUMN "label" text  NOT NULL ;

CREATE UNIQUE INDEX "Language.label" ON "public"."Language"("label")

CREATE UNIQUE INDEX "Tag.label" ON "public"."Tag"("label")

CREATE UNIQUE INDEX "Topic.label" ON "public"."Topic"("label")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200528112126-add-language-field-to-video..20200529101223-rename-text-to-label
--- datamodel.dml
+++ datamodel.dml
@@ -4,9 +4,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model Video {
   ytId       String     @id
@@ -45,23 +45,23 @@
 model Topic {
   id     Int     @default(autoincrement()) @id
   value  String  @unique
-  text   String  @unique
+  label  String  @unique
   videos Video[] @relation(references: [ytId])
 }
 model Tag {
   id     Int     @default(autoincrement()) @id
   value  String  @unique
-  text   String  @unique
+  label  String  @unique
   videos Video[] @relation(references: [ytId])
 }
 model Language {
   id     Int     @default(autoincrement()) @id
   value  String  @unique
-  text   String  @unique
+  label  String  @unique
   videos Video[]
 }
 enum Complexity {
```


